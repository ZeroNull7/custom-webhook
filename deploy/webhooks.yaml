# File autogenerated by ./scripts/gen-certs.sh
apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: k8s-webhook-example-webhook
  labels:
    app: k8s-webhook-example-webhook
    kind: mutator
webhooks:
  - name: all-mark-webhook.slok.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-webhook-example
        namespace: k8s-webhook-example
        path: /wh/mutating/allmark
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM4ekNDQWRzQ0ZBMTIzckt4ZW5QY3F0anp6RW1qMHRiWGFjRFFNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1EWXgKTkRBeUJnTlZCQU1NSzJzNGN5MTNaV0pvYjI5ckxXVjRZVzF3YkdVdWF6aHpMWGRsWW1odmIyc3RaWGhoYlhCcwpaUzV6ZG1Nd0hoY05NakF4TWpJeE1EVTFORFUyV2hjTk5EQXhNakUyTURVMU5EVTJXakEyTVRRd01nWURWUVFECkRDdHJPSE10ZDJWaWFHOXZheTFsZUdGdGNHeGxMbXM0Y3kxM1pXSm9iMjlyTFdWNFlXMXdiR1V1YzNaak1JSUIKSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTJ5aWpudUo4cnNHMHdmRTZGcHhJSitEbAp2MDRtajYyUXpoN2YzQzh2ZHU5L1JPczZLOU9yUG5oVjlhNGZqaWpVNllEWStmSmxRbnZiUWQ0Ym16QkJ3QnhZCjFIRW5XSFY3NlZtekU2aDdRSlVpcm9oK0FkWlhMSlRDNDArM3hHVzRoa01vblVJUjdDTkpLa2IvNWJhRGlGNE0KemQxaTZRZ3dUYitDSUd4WFlPYUhXK3NqVi9TeVZtcHdNcUFWbE5uVk5KclpBQTNuaG0wdkdBRTF3OXlGWnpwTQpOZTlqU3k2VDZtSy9USG92SzFmYURYYmhEOCswc1VqeXlOSzdnVGlhdkJ2ay9OSENoZzZqSjc3dEduZDhaelBLCkptclMyTi9wUEIvd0Ztb0FSRTZBcTlrWE5qZEtEUGlmeE4yeXRwWVV2cHNaNnpCajYwWW5Ja3dnV1I0eXB3SUQKQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQmxvbnQwRWQyZnR4cmZqY2JZdFEvTS9VaCtsd1BWcjVqcwpYWm9KZjRtTGZpbnBKSjA5WnNiVWIveDI4dXRKZTM1dnhtd3NIR1k4NUtNcHJXUWZwc0hteUd6RStwY0NtUHg2CnhrQjdQcm1hL2RocVNleGdRbHpGa2FOdHdxdHRMQzRKWVNMeUx1NGpqTVU3YnlSSlBtbVc2SnpjTUswSGJ0OUEKT3F5SHBIQkNJQ3A0VkpiTUdwQktBa3cxMWdVZWppa0wxNWhaUlNUZkpSSzlERHQ5MmIxSTZjNDFpLzNMWWhCNwpSTlp4TWI0Z2dYZ012WmhvTkNYVllPRkNGaEFxSGZobUc0em9TeVlnbFV2bXYycytIaUVlc1liSGlKY3FWb0hDCmFMOVgzNDczYmtha0dxOTU2QzVGNStJSXpZNCtId1ZIYXJzQVZVQm16YUQ2eXVncEoyL2UKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["*"]
        apiVersions: ["*"]
        resources: ["deployments", "daemonsets", "cronjobs", "jobs", "statefulsets", "pods"]

  - name: service-monitor-safer.slok.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-webhook-example
        namespace: k8s-webhook-example
        path: /wh/mutating/safeservicemonitor
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM4ekNDQWRzQ0ZBMTIzckt4ZW5QY3F0anp6RW1qMHRiWGFjRFFNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1EWXgKTkRBeUJnTlZCQU1NSzJzNGN5MTNaV0pvYjI5ckxXVjRZVzF3YkdVdWF6aHpMWGRsWW1odmIyc3RaWGhoYlhCcwpaUzV6ZG1Nd0hoY05NakF4TWpJeE1EVTFORFUyV2hjTk5EQXhNakUyTURVMU5EVTJXakEyTVRRd01nWURWUVFECkRDdHJPSE10ZDJWaWFHOXZheTFsZUdGdGNHeGxMbXM0Y3kxM1pXSm9iMjlyTFdWNFlXMXdiR1V1YzNaak1JSUIKSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTJ5aWpudUo4cnNHMHdmRTZGcHhJSitEbAp2MDRtajYyUXpoN2YzQzh2ZHU5L1JPczZLOU9yUG5oVjlhNGZqaWpVNllEWStmSmxRbnZiUWQ0Ym16QkJ3QnhZCjFIRW5XSFY3NlZtekU2aDdRSlVpcm9oK0FkWlhMSlRDNDArM3hHVzRoa01vblVJUjdDTkpLa2IvNWJhRGlGNE0KemQxaTZRZ3dUYitDSUd4WFlPYUhXK3NqVi9TeVZtcHdNcUFWbE5uVk5KclpBQTNuaG0wdkdBRTF3OXlGWnpwTQpOZTlqU3k2VDZtSy9USG92SzFmYURYYmhEOCswc1VqeXlOSzdnVGlhdkJ2ay9OSENoZzZqSjc3dEduZDhaelBLCkptclMyTi9wUEIvd0Ztb0FSRTZBcTlrWE5qZEtEUGlmeE4yeXRwWVV2cHNaNnpCajYwWW5Ja3dnV1I0eXB3SUQKQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQmxvbnQwRWQyZnR4cmZqY2JZdFEvTS9VaCtsd1BWcjVqcwpYWm9KZjRtTGZpbnBKSjA5WnNiVWIveDI4dXRKZTM1dnhtd3NIR1k4NUtNcHJXUWZwc0hteUd6RStwY0NtUHg2CnhrQjdQcm1hL2RocVNleGdRbHpGa2FOdHdxdHRMQzRKWVNMeUx1NGpqTVU3YnlSSlBtbVc2SnpjTUswSGJ0OUEKT3F5SHBIQkNJQ3A0VkpiTUdwQktBa3cxMWdVZWppa0wxNWhaUlNUZkpSSzlERHQ5MmIxSTZjNDFpLzNMWWhCNwpSTlp4TWI0Z2dYZ012WmhvTkNYVllPRkNGaEFxSGZobUc0em9TeVlnbFV2bXYycytIaUVlc1liSGlKY3FWb0hDCmFMOVgzNDczYmtha0dxOTU2QzVGNStJSXpZNCtId1ZIYXJzQVZVQm16YUQ2eXVncEoyL2UKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["monitoring.coreos.com"]
        apiVersions: ["v1"]
        resources: ["servicemonitors"]

---
apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: k8s-webhook-example-webhook
  labels:
    app: k8s-webhook-example-webhook
    kind: validator
webhooks:
  - name: ingress-validation-webhook.slok.dev
    admissionReviewVersions: ["v1"]
    sideEffects: None
    clientConfig:
      service:
        name: k8s-webhook-example
        namespace: k8s-webhook-example
        path: /wh/validating/ingress
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM4ekNDQWRzQ0ZBMTIzckt4ZW5QY3F0anp6RW1qMHRiWGFjRFFNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1EWXgKTkRBeUJnTlZCQU1NSzJzNGN5MTNaV0pvYjI5ckxXVjRZVzF3YkdVdWF6aHpMWGRsWW1odmIyc3RaWGhoYlhCcwpaUzV6ZG1Nd0hoY05NakF4TWpJeE1EVTFORFUyV2hjTk5EQXhNakUyTURVMU5EVTJXakEyTVRRd01nWURWUVFECkRDdHJPSE10ZDJWaWFHOXZheTFsZUdGdGNHeGxMbXM0Y3kxM1pXSm9iMjlyTFdWNFlXMXdiR1V1YzNaak1JSUIKSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTJ5aWpudUo4cnNHMHdmRTZGcHhJSitEbAp2MDRtajYyUXpoN2YzQzh2ZHU5L1JPczZLOU9yUG5oVjlhNGZqaWpVNllEWStmSmxRbnZiUWQ0Ym16QkJ3QnhZCjFIRW5XSFY3NlZtekU2aDdRSlVpcm9oK0FkWlhMSlRDNDArM3hHVzRoa01vblVJUjdDTkpLa2IvNWJhRGlGNE0KemQxaTZRZ3dUYitDSUd4WFlPYUhXK3NqVi9TeVZtcHdNcUFWbE5uVk5KclpBQTNuaG0wdkdBRTF3OXlGWnpwTQpOZTlqU3k2VDZtSy9USG92SzFmYURYYmhEOCswc1VqeXlOSzdnVGlhdkJ2ay9OSENoZzZqSjc3dEduZDhaelBLCkptclMyTi9wUEIvd0Ztb0FSRTZBcTlrWE5qZEtEUGlmeE4yeXRwWVV2cHNaNnpCajYwWW5Ja3dnV1I0eXB3SUQKQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQmxvbnQwRWQyZnR4cmZqY2JZdFEvTS9VaCtsd1BWcjVqcwpYWm9KZjRtTGZpbnBKSjA5WnNiVWIveDI4dXRKZTM1dnhtd3NIR1k4NUtNcHJXUWZwc0hteUd6RStwY0NtUHg2CnhrQjdQcm1hL2RocVNleGdRbHpGa2FOdHdxdHRMQzRKWVNMeUx1NGpqTVU3YnlSSlBtbVc2SnpjTUswSGJ0OUEKT3F5SHBIQkNJQ3A0VkpiTUdwQktBa3cxMWdVZWppa0wxNWhaUlNUZkpSSzlERHQ5MmIxSTZjNDFpLzNMWWhCNwpSTlp4TWI0Z2dYZ012WmhvTkNYVllPRkNGaEFxSGZobUc0em9TeVlnbFV2bXYycytIaUVlc1liSGlKY3FWb0hDCmFMOVgzNDczYmtha0dxOTU2QzVGNStJSXpZNCtId1ZIYXJzQVZVQm16YUQ2eXVncEoyL2UKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["*"]
        apiVersions: ["*"]
        resources: ["ingresses"]